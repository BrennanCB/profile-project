<div class="card">
  <h1>{{'title' | transloco}}

    <select
      (change)="changeLanguage()"
      [(ngModel)]="language"
    >
      <option [value]="'en'">English</option>
      <option [value]="'fr'">French</option>
      <option [value]="'es'">Spanish</option>
    </select>

  </h1>

  <div id="readonly-section">
    <span class="secondary-text label">{{'username' | transloco}}</span>
    <span class="value">{{loading ? '...' : user.username}}</span>
    <span class="secondary-text label">{{'email' | transloco}}</span>
    <span class="value"> {{loading ? '...' : user.email}}</span>
  </div>

  <form [formGroup]="userProfileFrom">
    <label class="secondary-text" for="firstName">{{'firstName' | transloco}}</label>
    <input (ngModelChange)="setError()" formControlName="firstName" id="firstName"/>
    <label class="secondary-text" for="lastName">{{'lastName' | transloco}}</label>
    <input (ngModelChange)="setError()" formControlName="lastName" id="lastName"/>

    <button (click)="saveProfile()" [disabled]="loading || saving">{{'save' | transloco}}</button>
  </form>

  <p *ngIf="loading" class="secondary-text helper-text">{{'loading_profile' | transloco}}</p>
  <p *ngIf="saving" class="secondary-text helper-text">{{'saving_profile' | transloco}}</p>
  <p *ngIf="!!error" class="secondary-text helper-text">{{error}}</p>
</div>
